(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a.n(c),s=a(17),r=a.n(s),i=a(4),l=a.n(i),o=a(7),d=a(6),j=a(3),m=a(5),h=a.n(m),u="10ca7bcb42bb2f90c857b80446967dd5",b="https://api.openweathermap.org/data/2.5",p=function(){var e=Object(d.a)(l.a.mark((function e(t,a){var c,n=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>2&&void 0!==n[2]?n[2]:"GET",n.length>3&&void 0!==n[3]?n[3]:"",c="".concat(b).concat(t,"&appid=").concat(u),e.next=5,h()(c,{params:{units:"imperial"},cancelToken:a});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),x=function(e,t){return p(e,t,"GET")},f=a(0),O=function(e){var t=e.city,a=e.onChangeCity;return Object(f.jsx)("div",{className:"input-group rounded my-3",children:Object(f.jsx)("input",{autoFocus:!0,type:"search",value:t,autoComplete:"off",onChange:a,id:"form1",className:"form-control",placeholder:"City","aria-label":"Search"})})},w=function(e){var t=e.cityList.map((function(t){return Object(f.jsx)("button",{onClick:function(){return e.onSelection(t)},className:"btn btn-light my-1 mx-1",children:t})}));return Object(f.jsx)("div",{className:"my-3 d-flex flex-wrap justify-content-center align-items-stretch align-self-stretch",children:t})},v=function(){return Object(f.jsx)("div",{className:"card",style:{borderRadius:"1.25rem"},children:Object(f.jsxs)("div",{className:"card-body p-4",children:[Object(f.jsxs)("div",{className:"d-flex",children:[Object(f.jsx)("h6",{className:"placeholder-glow flex-grow-1",children:Object(f.jsx)("span",{class:"placeholder col-6"})}),Object(f.jsx)("h6",{className:"placeholder-glow",children:Object(f.jsx)("span",{class:"placeholder col-6"})})]}),Object(f.jsxs)("div",{className:"d-flex flex-column text-center mt-5 mb-4",children:[Object(f.jsx)("h6",{className:"placeholder-glow display-4 mb-0 font-weight-bold",children:Object(f.jsx)("span",{class:"placeholder col-6"})}),Object(f.jsx)("span",{className:"placeholder small"})]}),Object(f.jsxs)("div",{className:"d-flex align-items-center",children:[Object(f.jsxs)("div",{className:"flex-grow-1",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("i",{className:"fas fa-wind fa-fw"}),Object(f.jsx)("span",{className:"placeholder ms-1",children:" "})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("i",{className:"fas fa-tint fa-fw"}),Object(f.jsx)("span",{className:"placeholder ms-1"})]})]}),Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:"",alt:""})})]})]})})},g=function(e){var t=e.weatherInfo,a=e.units,c=t.name,n=t.condition,s=t.dt,r=(t.timezone,t.humidity),i=t.icon,l=t.temp,o=t.windspd,d=new Date(1e3*s),j=function(e,t){var a,c="metric"===t?"\xb0C":"\xb0F";return(null==e?e:"metric"===t?(a=e,5*(a-32)/9).toFixed(1):e.toFixed(1))+c}(l,a);return Object(f.jsx)("div",{className:"card",style:{borderRadius:"1.25rem"},children:Object(f.jsxs)("div",{className:"card-body p-4",children:[Object(f.jsxs)("div",{className:"d-flex",children:[Object(f.jsx)("h6",{className:"flex-grow-1",children:c}),Object(f.jsxs)("h6",{children:[d.toLocaleDateString()," - ",d.toLocaleTimeString()]})]}),Object(f.jsxs)("div",{className:"d-flex flex-column text-center mt-5 mb-4",children:[Object(f.jsx)("h6",{className:"display-4 mb-0 font-weight-bold",children:j}),Object(f.jsx)("span",{className:"small",children:n})]}),Object(f.jsxs)("div",{className:"d-flex align-items-center",children:[Object(f.jsxs)("div",{className:"flex-grow-1",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("i",{className:"fas fa-wind fa-fw"}),Object(f.jsxs)("span",{className:"ms-1",children:[" ",o," km/h "]})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("i",{className:"fas fa-tint fa-fw"}),Object(f.jsxs)("span",{className:"ms-1",children:[" ",r,"% "]})]})]}),Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(i,"@2x.png"),alt:""})})]})]})})};a(42);function N(e,t){switch(t.type){case"FETCH_START":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0,isError:!1});case"FETCH_SUCCESS":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isError:!1,weatherData:t.payload});case"FETCH_FAILURE":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isError:!0});case"RESET":return{weatherData:{name:"",condition:"",dt:null,timezone:null,humidity:null,icon:"",temp:null,windspd:null},isLoading:!1,isError:!1};default:throw new Error}}function y(){return(y=Object(d.a)(l.a.mark((function e(t,a,c){var n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=14;break}return a({type:"FETCH_START"}),e.prev=2,e.next=5,x("/weather?q=".concat(t),c);case 5:n=e.sent,s={name:n.data.name,condition:n.data.weather[0].main,dt:n.data.dt,timezone:n.data.timezone,humidity:n.data.main.humidity,icon:n.data.weather[0].icon,temp:n.data.main.temp,windspd:n.data.wind.speed},a({type:"FETCH_SUCCESS",payload:s}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0),h.a.isCancel(e.t0)||a({type:"FETCH_FAILURE"});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}var C=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)("imperial"),r=Object(o.a)(s,2),i=r[0],l=r[1],d=Object(c.useReducer)(N,{weatherData:{name:"",condition:"",dt:null,timezone:null,humidity:null,icon:"",temp:null,windspd:null},isLoading:!1,isError:!1}),j=Object(o.a)(d,2),m=j[0],u=m.weatherData,b=m.isError,p=m.isLoading,x=j[1];return Object(c.useEffect)((function(){var e=h.a.CancelToken.source(),t=e.cancel,c=e.token,n=setTimeout((function(){return function(e,t,a){return y.apply(this,arguments)}(a,x,c)}),500);return function(){return t("No longer latest query")||clearTimeout(n)}}),[a]),Object(f.jsx)("div",{className:"App",children:Object(f.jsx)("div",{className:"container py-5 h-100",children:Object(f.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:Object(f.jsxs)("div",{className:"position-relative col-md-8 col-lg-6 col-xl-4",children:[Object(f.jsx)("h1",{className:"text-center",children:"Weather App"}),Object(f.jsx)(O,{city:a,onChangeCity:function(e){""===e.target.value&&x({type:"RESET"}),n(e.target.value)}}),Object(f.jsxs)("div",{className:"my-3 d-flex flex-wrap justify-content-center align-items-stretch align-self-stretch",children:[Object(f.jsx)("button",{onClick:function(){l("imperial")},className:"btn btn-sm btn-light",children:"\xb0F"}),Object(f.jsx)("button",{onClick:function(){l("metric")},className:"btn btn-sm btn-dark",children:"\xb0C"})]}),Object(f.jsx)(w,{cityList:["New York","Detroit","Chicago","Los Angeles","Seattle"],onSelection:function(e){n(e)}}),b&&Object(f.jsx)("div",{className:"alert alert-danger",children:a?"We do not have information for ".concat(a,", please enter another city"):"Something went wrong...please enter another city"}),p?Object(f.jsx)(v,{}):""===a||b?Object(f.jsx)("div",{}):Object(f.jsx)(g,{units:i,weatherInfo:u})]})})})})};r.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(C,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.56443ac7.chunk.js.map